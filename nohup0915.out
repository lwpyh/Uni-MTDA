nohup: 忽略输入
ckpt/source/pda/office-home/C
Namespace(batch_size=64, bottleneck=256, class_num=50, classifier='bn', cls_par=0.3, da='pda', distance='cosine', dset='office-home', ent=True, ent_par=1.0, epsilon=1e-05, gent=True, gpu_id='0', interval=15, issave=False, layer='wn', lr=0.01, lr_decay1=0.1, lr_decay2=1.0, max_epoch=15, name='office-home', name1='CR', name2='CP', name3='CA', net='resnet50', out_file=<_io.TextIOWrapper name='ckpt/target/pda/office-home-addfc+gent/log_par_0.3_thr10.txt' mode='w' encoding='UTF-8'>, output='ckpt/target', output_dir='ckpt/target/pda/office-home-addfc+gent', output_dir_src='ckpt/source/pda/office-home/C', output_src='ckpt/source', s=0, s_dset_path='./data/office-home/Clipart.txt', savename='par_0.3_thr10', seed=2020, src_classes=[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49], t=1, t_dset_path='./data/office-home/Real_World.txt', t_dset_path1='./data/office-home/Product.txt', t_dset_path2='./data/office-home/Art.txt', tar_classes=[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49], tar_classes1=[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24], tar_classes2=[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64], test_dset_path='./data/office-home/Real_World.txt', test_dset_path1='./data/office-home/Product.txt', test_dset_path2='./data/office-home/Art.txt', threshold=10, worker=4)
/homes/jh015/.conda/envs/hj_trans/lib/python3.7/site-packages/torchvision/models/_utils.py:209: UserWarning: The parameter 'pretrained' is deprecated since 0.13 and will be removed in 0.15, please use 'weights' instead.
  f"The parameter '{pretrained_param}' is deprecated since 0.13 and will be removed in 0.15, "
/homes/jh015/.conda/envs/hj_trans/lib/python3.7/site-packages/torchvision/models/_utils.py:223: UserWarning: Arguments other than a weight enum or `None` for 'weights' are deprecated since 0.13 and will be removed in 0.15. The current behavior is equivalent to passing `weights=ResNet50_Weights.IMAGENET1K_V1`. You can also use `weights=ResNet50_Weights.DEFAULT` to get the most up-to-date weights.
  warnings.warn(msg)
cls_count [ 46.  72.  88.  56. 103.  61. 105.  84.  48.  73.  59.  66.  99.  67.
  96. 108.  63.  30.  54. 107.  40.  83.  40.  57.  94.  81.  60. 101.
  57.  29. 102.  62.  85.  78.  20.  31.  56. 110.  60.  46.  26.  51.
  70.  47.  46.   5.  71. 110. 111.  66.] 0.0 5.0 111.0 0.04504504504504504
Accuracy = 68.46% -> 68.46%

50
cls_count [ 70.  48.  56.  66.  83.  68.  43.  40.  38.  77.  53.  60. 113.  17.
  27.  46.  53.   7.  96.  48.  35.  46.  76.  37.  64.  21.  29.  22.
  23.   9.  25.  18.   8.   4.   2.   2.  10.  23.   4.   4.   6.   7.
   6.   2.  18.   1.   3.  15.  23.   9.] 38 1.0 113.0 0.008849557522123894
Accuracy = 65.68% -> 65.68%

20
cls_count [ 23.  14.  83.  34.  99.  37.  88. 218.  35.  35.  37.  17.  34.  53.
  52. 144.  29.  37.  43.  81.  29.  75.  18. 102.  46.  56.  35.  61.
  34.  33.  71.  21.  21.  74.  29.   7.  30.  61.  73.  22.  25.  36.
  49.   6.  45.   3.  25.  65.  57.  25.] 0.0 3.0 218.0 0.013761467889908258
Accuracy = 39.76% -> 39.76%

50
cls_count [ 41.  83.  88.  65.  91.  68.  92.  85.  61.  85.  64.  88.  90.  76.
  83. 108.  69.  31.  78. 103.  11.  74.  60.  44.  73.  64.  70. 105.
  56.  34.  93.  70.  90.  77.  27.  39.  64.  87.  59.  46.  24.  56.
  50.  52.  41.   2.  95.  93. 103.  72.] 0.0 2.0 108.0 0.018518518518518517
Accuracy = 74.62% -> 74.62%

50
cls_count [ 67.  67.  78.  83.  94.  64.  46.  61.  72.  93.  71.  96. 111.   7.
  19.  64.  66.   6.  97.  45.  10.  47.  93.  29.  61.   9.   8.   7.
  14.   6.   7.   7.   5.   1.   0.   1.  10.  11.   2.   0.   0.   5.
   1.   3.   1.   0.   0.   3.   6.   7.] 29 0.0 111.0 0.0
Accuracy = 72.55% -> 72.55%

21
cls_count [ 26.  19. 109.  48.  92.  42.  83. 206.  36.  42.  43.  46.  33.  58.
  44. 127.  46.  44.  37.  79.   3.  95.  27.  83.  37.  65.  27.  64.
  41.  25.  54.  27.  27.  71.  25.  11.  35.  49. 108.  19.  18.  42.
  15.   8.  31.   0.  32.  61.  40.  27.] 65 0.0 206.0 0.0
Accuracy = 46.72% -> 46.72%

11
Traceback (most recent call last):
  File "image_pretrained-fc_copy1.py", line 601, in <module>
    train_target(args)
  File "image_pretrained-fc_copy1.py", line 378, in train_target
    acc_os1, acc_os2, acc_unknown = cal_acc(dset_loaders['test2'], netF, netB, netC2, label_list1, label_map2, True)
  File "image_pretrained-fc_copy1.py", line 162, in cal_acc
    re[i] = torch.tensor(label_map[int(re[i])])
KeyError: 14
